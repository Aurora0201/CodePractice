<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>夜深人静写算法（二十五）- 稳定婚姻</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__html"><p></p><div class="toc"><h3>文章目录</h3><ul><li><a href="#_2">一、前言</a></li><li><a href="#_4">二、稳定婚姻</a></li><ul><li><a href="#1_5">1、你是个好人</a></li><li><a href="#2_9">2、不稳定的含义</a></li><li><a href="#3_13">3、稳定婚姻的含义</a></li></ul><li><a href="#GaleShapley__17">三、Gale-Shapley 算法</a></li><ul><li><a href="#1_18">1、算法简介</a></li><li><a href="#2_25">2、算法图解</a></li><ul><li><a href="#1_26">1）情窦初开</a></li><li><a href="#2_29">2）捷足先登</a></li><li><a href="#3_35">3）横刀夺爱</a></li><li><a href="#4_49">4）物竞天择</a></li></ul><li><a href="#3_62">3、算法剖析</a></li><ul><li><a href="#1_63">1）算法描述</a></li><li><a href="#2_66">2）男孩的策略</a></li><li><a href="#3_68">3）女孩的策略</a></li><li><a href="#4_73">4）算法的最终结果</a></li></ul><li><a href="#4_78">4、算法时间复杂度分析</a></li></ul><li><a href="#GaleShapley__81">四、Gale-Shapley 算法实现</a></li><ul><li><a href="#1_82">1、类的设计</a></li><ul><li><a href="#1_83">1）男孩类</a></li><li><a href="#2_119">2）女孩类</a></li><li><a href="#3_173">3）管理类</a></li></ul></ul><li><a href="#_246">五、稳定婚姻相关题集整理</a></li></ul></div><p></p>
<h1><a id="_2"></a>一、前言</h1>
<blockquote>
<p>  爸爸就像妈妈手里的风筝，飞得再高，线还在妈妈手里！<br>  一个稳定的婚姻，能够让你在加班时没有后顾之忧，让你在职场上如鱼得水，事业上平步青云。<br>  婚姻的本质是什么？如何才能维持一个稳定的婚姻？<br>  那么今天，就让我用程序的角度来给大家讲解一下。<img src="https://img-blog.csdnimg.cn/20210703122654382.gif#pic_center" alt=""></p>
</blockquote>
<h1><a id="_4"></a>二、稳定婚姻</h1>
<h2><a id="1_5"></a>1、你是个好人</h2>
<ul>
<li>为了让读者能够身临其境的感受到自己是个好人，作者打算用 “读者” 和 “作者” 来举例子；</li>
<li>“读者” 和 “他的妻子” 分别记为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>M</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">M_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.10903em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">F_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> ，“作者” 和 “他的妻子” 分别记为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>M</mi><mi>z</mi></msub></mrow><annotation encoding="application/x-tex">M_z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.10903em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>z</mi></msub></mrow><annotation encoding="application/x-tex">F_z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> ；</li>
<li>在读者眼中，这两个女人的好感度排序为 ：<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>d</mi></msub><mo>&gt;</mo><msub><mi>F</mi><mi>z</mi></msub></mrow><annotation encoding="application/x-tex">F_d \gt F_z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>；而在作者眼中，这两个女人的好感度排序为：<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>z</mi></msub><mo>&gt;</mo><msub><mi>F</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">F_z \gt F_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>。换言之，两个男人都更加爱自己的妻子，这种情况下，我们称这是一个稳定的匹配。</li>
</ul>
<h2><a id="2_9"></a>2、不稳定的含义</h2>
<ul>
<li>所谓不稳定匹配，就是指两对夫妻 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>M</mi><mi>d</mi></msub><mo separator="true">,</mo><msub><mi>F</mi><mi>d</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(M_d, F_d)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.10903em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>M</mi><mi>z</mi></msub><mo separator="true">,</mo><msub><mi>F</mi><mi>z</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(M_z, F_z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.10903em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>，丈夫 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>M</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">M_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.10903em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 相比自己的妻子 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">F_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 更加喜欢别人的妻子 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>z</mi></msub></mrow><annotation encoding="application/x-tex">F_z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，而 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mi>z</mi></msub></mrow><annotation encoding="application/x-tex">F_z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 发现，相比自己的丈夫 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>M</mi><mi>z</mi></msub></mrow><annotation encoding="application/x-tex">M_z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.10903em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，她更加喜欢 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>M</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">M_d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.10903em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>。这种情况下，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo stretchy="false">(</mo><msub><mi>M</mi><mi>d</mi></msub><mo separator="true">,</mo><msub><mi>F</mi><mi>z</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(M_d, F_z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.336108em;"><span class="" style="top: -2.55em; margin-left: -0.10903em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.151392em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right: 0.04398em;">z</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span> 随时有可能抛弃伴侣而私奔。那么这样的匹配就是不稳定的，如图二-2-1所示。<br>
<img src="https://img-blog.csdnimg.cn/img_convert/358d6a40ea6b22a4dc45c8501d33023a.gif#pic_center" alt=""><center>图二-2-1</center></li>
</ul>
<h2><a id="3_13"></a>3、稳定婚姻的含义</h2>
<ul>
<li>当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span> 对夫妻中，不存在不稳定的匹配时，我们称之为 “稳定婚姻”。</li>
</ul>
<center><font color="red">【婚恋广告位C位】</font></center>
<h1><a id="GaleShapley__17"></a>三、Gale-Shapley 算法</h1>
<h2><a id="1_18"></a>1、算法简介</h2>
<ul>
<li>1962年，美国数学家 David Gale 和 Lloyd Shapley 发明了一种寻找稳定婚姻的策略，人们称之为延迟认可算法（Gale-Shapley算法），这个算法是基于单向广搜的。接下来通过一个例题来理解这个算法的工作原理。</li>
</ul>
<blockquote>
<p>【例题1】在一个大型相亲晚会的现场，有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>≤</mo><mn>1000</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n(n \le 1000)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span> 个男孩 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo stretchy="false">(</mo><mi>n</mi><mo>≤</mo><mn>1000</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n(n \le 1000)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">n</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">0</span><span class="mclose">)</span></span></span></span></span> 个女孩，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">[</mo><mi>m</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">mrank[m][i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mopen">[</span><span class="mord mathdefault">m</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">i</span><span class="mclose">]</span></span></span></span></span> 代表 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span> 个女孩在男孩 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">m</span></span></span></span></span> 心中的排名矩阵（ <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span> 为对应女孩编号 ），<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">[</mo><mi>f</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">frank[f][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span><span class="mclose">]</span></span></span></span></span> 代表 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span> 个男孩在女孩 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span></span></span></span></span> 心中的排名矩阵（ <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.85396em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.05724em;">j</span></span></span></span></span> 为对应男孩编号 ），求找到一个 “稳定婚姻” 方案。要求对于任意的 男孩 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">m</span></span></span></span></span> 和 女孩 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.88888em; vertical-align: -0.19444em;"></span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span></span></span></span></span>，他们的当前心仪对象分别为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>m</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">m'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.751892em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>f</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">f'</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.946332em; vertical-align: -0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.751892em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span></span>， 满足以下情况绝对不会同时出现：<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">[</mo><mi>m</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>f</mi><mo stretchy="false">]</mo><mo>&lt;</mo><mi>m</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">[</mo><mi>m</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><msup><mi>m</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">mrank[m][f] &lt; mrank[m][m']</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mopen">[</span><span class="mord mathdefault">m</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.05189em; vertical-align: -0.25em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mopen">[</span><span class="mord mathdefault">m</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.801892em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></span> <span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">[</mo><mi>f</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>m</mi><mo stretchy="false">]</mo><mo>&lt;</mo><mi>f</mi><mi>r</mi><mi>a</mi><mi>n</mi><mi>k</mi><mo stretchy="false">[</mo><mi>f</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><msup><mi>f</mi><mo mathvariant="normal">′</mo></msup><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">frank[f][m] &lt; frank[f][f']</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathdefault">m</span><span class="mclose">]</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1.05189em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mord mathdefault" style="margin-right: 0.02778em;">r</span><span class="mord mathdefault">a</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right: 0.03148em;">k</span><span class="mopen">[</span><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord"><span class="mord mathdefault" style="margin-right: 0.10764em;">f</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.801892em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span><span class="mclose">]</span></span></span></span></span></span></p>
</blockquote>
<ul>
<li>这个问题就是经典的 “稳定婚姻” 问题了，问题结尾的那个条件就是上文提到的 “不稳定匹配” ；</li>
<li>算法整个过程归结为四步：（1）情窦初开、（2）捷足先登、（3）横刀夺爱、（4）物竞天择；</li>
<li>那么接下来，作者将用图解的方式对这四步进行详细的讲解。</li>
</ul>
<h2><a id="2_25"></a>2、算法图解</h2>
<h3><a id="1_26"></a>1）情窦初开</h3>
<ul>
<li>一开始，所有男孩和女孩都是单身状态，所有男孩被关到小黑屋里，所有女孩则在小黑屋外待命；<br>
<img src="https://img-blog.csdnimg.cn/img_convert/df382792afc48b3e34ce0287ec342344.png#pic_center" alt=""><center>图三-2-1</center><img src="https://img-blog.csdnimg.cn/img_convert/28abac4dd38a64684c2214ef797dc3df.png#pic_center" alt=""><center>图三-2-2</center></li>
</ul>
<h3><a id="2_29"></a>2）捷足先登</h3>
<ul>
<li>从小黑屋里叫出来一个男孩，让他根据他的心仪列表选择一个尚未拒绝过他的女孩；<br>
<img src="https://img-blog.csdnimg.cn/img_convert/242f41c2fe2a892f4d4c8e094199f808.png#pic_center" alt=""><center>图三-2-3</center></li>
<li>图三-2-3为 ① 号男孩的心仪对象列表，他优先选择了 ④ 号女孩，由于 ④ 号女孩尚未订婚，所以 ① 号男孩 成为 ④ 号女孩 的未婚夫；<br>
<img src="https://img-blog.csdnimg.cn/img_convert/8a575a9dbe5480270a9c43f4b4bf0880.png#pic_center" alt=""><center>图三-2-4</center></li>
<li>这可一看就很有夫妻相啊。</li>
</ul>
<h3><a id="3_35"></a>3）横刀夺爱</h3>
<ul>
<li>继续从小黑屋里叫出来一个男孩，让他根据他的心仪列表选择一个尚未拒绝过他的女孩；<br>
<img src="https://img-blog.csdnimg.cn/img_convert/bdc2e5cc96281277d25c171672286649.png#pic_center" alt=""></li>
</ul>
<center>图三-2-5</center>
<ul>
<li>图三-2-5为 ② 号男孩的心仪对象列表，④ 号女孩也排在第一位，于是 ④ 号女孩要对 ② 号男孩 和 她的未婚夫进行一次抉择，抉择依据就是两个男孩在她心目中的排序，如图三-2-6所示：<br>
<img src="https://img-blog.csdnimg.cn/img_convert/d4c1e4fff5cdd34ffdd4c3ba0b61fa8d.png#pic_center" alt=""></li>
</ul>
<center>图三-2-6</center>
<ul>
<li>在 ④ 号女孩心中，② 号男孩 的排名优先于 她的未婚夫 ① 号男孩，所以 ② 号男孩 成为 ④ 号女孩的新未婚夫。<br>
<img src="https://img-blog.csdnimg.cn/img_convert/a8a63766ba1ab9ca0e35868682dc60bb.png#pic_center" alt=""><center>图三-2-7</center></li>
<li>① 号男孩则被淘汰，继续关进小黑屋，虽然很有夫妻相，但是感情的事情是不能勉强的，猛男落泪。<br>
<img src="https://img-blog.csdnimg.cn/20210324095119928.png#pic_center" alt=""><center>图三-2-8</center></li>
</ul>
<h3><a id="4_49"></a>4）物竞天择</h3>
<ul>
<li>继续从小黑屋里叫出来一个男孩，让他根据他的心仪列表选择一个尚未拒绝过他的女孩；<br>
<img src="https://img-blog.csdnimg.cn/img_convert/28c23e9ce48fb61eae0c81dd29890481.png#pic_center" alt=""><center>图三-2-9</center></li>
<li>图三-2-9为 ③ 号男孩的心仪对象列表，④ 号女孩也排在第一位，于是 ④ 号女孩要对 ③ 号男孩 和 她的未婚夫进行一次抉择，而在 ④ 号女孩心中，② 号男孩 优于 ③ 号男孩，所以此次抢亲失败，物竞天择，天地不仁，难遂人愿。<br>
<img src="https://img-blog.csdnimg.cn/img_convert/d4c1e4fff5cdd34ffdd4c3ba0b61fa8d.png#pic_center" alt=""></li>
</ul>
<center>图三-2-10</center>
<ul>
<li>③ 号男孩重新关入小黑屋，猛男落泪。多情自古空余恨，此恨绵绵无绝期！<br>
<img src="https://img-blog.csdnimg.cn/20210324100133240.png#pic_center" alt=""><center>图三-2-11</center></li>
<li>小黑屋当前的状态如图三-2-12所示：<br>
<img src="https://img-blog.csdnimg.cn/img_convert/f522fbb768bf92ae5ebb4a9dc965ca70.png#pic_center" alt="在这里插入图片描述"><center>图三-2-12</center></li>
<li>就这样，不断从小黑屋里面找出一位男孩，让他按照他心仪列表挑选尚未拒绝过他的女孩，最后总能找到一个一一匹配，使得所有婚姻都是稳定的。</li>
</ul>
<h2><a id="3_62"></a>3、算法剖析</h2>
<h3><a id="1_63"></a>1）算法描述</h3>
<blockquote>
<p>以上算法描述成自然语言如下：<br>  1）<span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span> 个男孩都为单身，并且将他们放到一个相亲队列里；<br>  2）如果队列为空，则算法结束，否则循环执行 3）和 4）；<br>  3）取出队列首的男孩，根据他自己的排名矩阵，按照排名先后依次追求尚未拒绝过她的女孩；<br>  4）被追求的这位女孩有两种情况：<br>    4.a）本身是单身，则直接接受这位追求她的男孩；<br>    4.b）有未婚夫，则比较追求他的男孩和未婚夫的排名，将排名在前面的作为新的未婚夫，另外一位则回归单身，重新放入队列；</p>
</blockquote>
<ul>
<li>当队列为空的时候，整个算法就结束了，并且每个女孩都有一个未婚夫；</li>
</ul>
<h3><a id="2_66"></a>2）男孩的策略</h3>
<ul>
<li>单身男孩采取 “捷足先登” 和 “先来后到” 的策略，依次对最喜欢、次喜欢 … 的女孩求爱，一旦被接受，则和这个女孩进入订婚状态；</li>
</ul>
<h3><a id="3_68"></a>3）女孩的策略</h3>
<ul>
<li>女孩采取 “守株待兔” 和 “喜新厌旧” 的策略，对前来求爱的男孩进行选择：</li>
<li>1）若该男孩比未婚夫强，则悔婚，选择新的未婚夫；</li>
<li>2）否则，拒绝该男子的求婚。</li>
<li>被这个女孩抛弃的男孩重新变成单身，拥有了追求其他女孩的权利。</li>
</ul>
<h3><a id="4_73"></a>4）算法的最终结果</h3>
<ul>
<li>在算法执行期间，每个人都有可能订婚多次，也有可能一开始就找到了自己的最爱，从一而终；</li>
<li>比较值得关注的是，男孩永远掌握着主动权，但是他们的择偶标准一定会越来越低；相反，女孩永远处于被动地位，但是他们的配偶质量一定会越来越好！</li>
<li>只要男女生的数量相等，则经过多轮求婚，订婚，悔婚和再订婚之后，每位男女最终都会找到合适的伴侣——虽然不一定是自己的最爱，但绝对不会出现 “虽然彼此相爱，却不能在一起” 的悲剧，所有人都会组成稳定的婚姻。</li>
</ul>
<h2><a id="4_78"></a>4、算法时间复杂度分析</h2>
<ul>
<li>这是一种基于广搜的贪心算法，只不过每次抉择只有一个元素被压入队列，所以搜索的状态空间不会呈指数级扩展。</li>
<li>由于每个男孩子最多被 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 个女孩子拒绝，也就是入队次数最多 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 次，最坏情况是每个男孩都入队 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 次，所以时间复杂度为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1.06411em; vertical-align: -0.25em;"></span><span class="mord mathdefault" style="margin-right: 0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.814108em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>。</li>
</ul>
<h1><a id="GaleShapley__81"></a>四、Gale-Shapley 算法实现</h1>
<h2><a id="1_82"></a>1、类的设计</h2>
<h3><a id="1_83"></a>1）男孩类</h3>
<ul>
<li>我们分析一下男孩有哪些行为？</li>
<li>1）首先，需要有一个自己喜欢的并且排好序的女孩列表，这个是需要我们告诉他的；</li>
<li>2）然后，根据自己的喜好列表选择一个尚未拒绝他的女孩，等待被拒（或者配对）；</li>
<li>所以男孩类的设计如下：</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">Male</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> femaleIndex<span class="token punctuation">;</span>
    <span class="token keyword">int</span> females<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment">// 1）</span>
    <span class="token keyword">void</span> <span class="token function">fillFemales</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2）</span>
    <span class="token keyword">int</span> <span class="token function">popNextFemale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">// 3）</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>1）<code>init()</code>函数主要做初始化工作，其中<code>femaleIndex</code>用来标识当前还没有拒绝他的女孩在他的喜好列表的下标索引。所以初始化为 <code>femaleIndex = 0</code>；</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">Male</span><span class="token operator">::</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    femaleIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>2）<code>fillFemales(n, f[])</code>函数主要根据传参来填充男孩的喜好列表，顺序从前往后，排名从高到低；</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">Male</span><span class="token operator">::</span><span class="token function">fillFemales</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> f<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        females<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>3）<code>popNextFemale()</code>则获得这个男孩当前还没有被拒绝过的最喜欢的女孩的编号；</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token class-name">Male</span><span class="token operator">::</span><span class="token function">popNextFemale</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> females<span class="token punctuation">[</span>femaleIndex<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3><a id="2_119"></a>2）女孩类</h3>
<ul>
<li>我们分析一下女孩有哪些行为？</li>
<li>1）首先，需要有一个自己喜欢的男孩的排名，这个是需要我们告诉她的；</li>
<li>2）然后，当男孩来求爱的时候，根据排名进行 “喜新厌旧” 的抉择；</li>
<li>所以女孩类的设计如下：</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">const</span> <span class="token keyword">int</span> NULL_MATCH <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Female</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> matchMale<span class="token punctuation">;</span>          
    <span class="token keyword">int</span> maleRank<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>    
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">getMatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                       <span class="token comment">// 1）</span>
    <span class="token keyword">void</span> <span class="token function">setMaleRanks</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2）</span>
    <span class="token keyword">int</span> <span class="token function">exchange</span><span class="token punctuation">(</span><span class="token keyword">int</span> maleId<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 3）</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>1）<code>init()</code>函数主要做初始化工作，其中<code>matchMale</code>用来标识她的未婚夫的编号，<code>matchMale = NULL_MATCH</code>表示初始化的时候为单身的状态；</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">Female</span><span class="token operator">::</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    matchMale <span class="token operator">=</span> NULL_MATCH<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>2）<code>setMaleRanks(n, m[])</code>函数的传参是这个女孩的心仪男生列表，<code>maleRank</code>是一个哈希数组，<code>maleRank[i]</code>代表编号为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.65952em; vertical-align: 0em;"></span><span class="mord mathdefault">i</span></span></span></span></span> 的男孩在这个女孩心目中的排名；</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> <span class="token class-name">Female</span><span class="token operator">::</span><span class="token function">setMaleRanks</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> m<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        maleRank<span class="token punctuation">[</span>m<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
</code></pre>
<ul>
<li>3）<code>exchange(maleId)</code>函数则是执行编号为 <code>maleId</code>的男孩和这个女孩的未婚夫竞争的过程，和排名高的订婚，返回排名低的那个男孩的编号，如果不存在未婚夫，则直接返回 <code>NULL_MATCH</code>；</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">int</span> <span class="token class-name">Female</span><span class="token operator">::</span><span class="token function">exchange</span><span class="token punctuation">(</span><span class="token keyword">int</span> maleId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>matchMale <span class="token operator">==</span> NULL_MATCH<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 1）</span>
        matchMale <span class="token operator">=</span> maleId<span class="token punctuation">;</span>
        <span class="token keyword">return</span> NULL_MATCH<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">int</span> pre <span class="token operator">=</span> maleRank<span class="token punctuation">[</span>matchMale<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> now <span class="token operator">=</span> maleRank<span class="token punctuation">[</span>maleId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pre <span class="token operator">&lt;</span> now<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token comment">// 2）</span>
        <span class="token keyword">return</span> maleId<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> tmp <span class="token operator">=</span> matchMale<span class="token punctuation">;</span>      <span class="token comment">// 3）</span>
        matchMale <span class="token operator">=</span> maleId<span class="token punctuation">;</span>
        <span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>1）不存在未婚夫的情况，则直接和当前男孩订婚，并且返回<code>NULL_MATCH</code>；</li>
<li>2）当前求爱的男孩排名比女孩的未婚夫更差，则直接返回求爱男孩的编号；</li>
<li>3）否则，女孩和求爱男孩订婚，抛弃之前的未婚夫；</li>
</ul>
<h3><a id="3_173"></a>3）管理类</h3>
<ul>
<li>管理类的作用是管理 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathdefault">n</span></span></span></span></span> 对男女的婚姻关系，也就是算法的核心。</li>
<li>定义管理类如下：</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">class</span> <span class="token class-name">stableMarriage</span> <span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> count<span class="token punctuation">;</span>
    Male M<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>
    Female F<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">stableMarriage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">stableMarriage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">addFemaleListToMale</span><span class="token punctuation">(</span><span class="token keyword">int</span> maleId<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> females<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1）</span>
    <span class="token keyword">void</span> <span class="token function">addMaleRankToFemale</span><span class="token punctuation">(</span><span class="token keyword">int</span> femaleId<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>males<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">doStableMarriage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token comment">// 2）</span>
    <span class="token keyword">void</span> <span class="token function">getCouples</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>males<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>females<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// 3）</span>
<span class="token punctuation">}</span>SM<span class="token punctuation">;</span>
</code></pre>
<ul>
<li>1）<code>addFemaleListToMale</code>和 <code>addMaleRankToFemale</code>分别用于填充男孩和女孩的心仪列表，实现如下：</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> stableMarriage<span class="token operator">::</span><span class="token function">addFemaleListToMale</span><span class="token punctuation">(</span><span class="token keyword">int</span> maleId<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">*</span> females<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    M<span class="token punctuation">[</span>maleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fillFemales</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> females<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> stableMarriage<span class="token operator">::</span><span class="token function">addMaleRankToFemale</span><span class="token punctuation">(</span><span class="token keyword">int</span> femaleId<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>males<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    F<span class="token punctuation">[</span>femaleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">setMaleRanks</span><span class="token punctuation">(</span>count<span class="token punctuation">,</span> males<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>2）<code>doStableMarriage</code>则执行整个算法流程，实现如下：</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> stableMarriage<span class="token operator">::</span><span class="token function">doStableMarriage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    queue <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> que<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        que<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                                <span class="token comment">// 2.a）</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>que<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> maleId <span class="token operator">=</span> que<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                   
        que<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> femaleId <span class="token operator">=</span> M<span class="token punctuation">[</span>maleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">popNextFemale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 2.b）</span>
        maleId <span class="token operator">=</span> F<span class="token punctuation">[</span>femaleId<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">exchange</span><span class="token punctuation">(</span>maleId<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// 2.c）</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>maleId <span class="token operator">!=</span> NULL_MATCH<span class="token punctuation">)</span> <span class="token punctuation">{</span>                 <span class="token comment">// 2.d）</span>
            que<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>maleId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<ul>
<li>2.a）初始化所有男孩均为单身，全部塞入队列；</li>
<li>2.b）选择当前队列里的一个单身男孩，找到尚未拒绝她的最喜欢的女孩进行求爱；</li>
<li>2.c）让这个女孩进行抉择；</li>
<li>2.d）抉择下来被淘汰的男孩继续放入队列，等待下一次求爱。</li>
<li>3）<code>getCouples</code>函数用于输出路径，实现如下：</li>
</ul>
<pre><code class="prism language-cpp"><span class="token keyword">void</span> stableMarriage<span class="token operator">::</span><span class="token function">getCouples</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>males<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>females<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> count<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        males<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
        females<span class="token punctuation">[</span>F<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getMatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<hr>
<ul>
<li>关于 <font color="red"><b>稳定婚姻</b></font> 的内容到这里就结束了。</li>
<li>如果还有不懂的问题，可以 <font color="red"><b>想方设法</b></font> 找到作者的微信进行在线咨询。</li>
</ul>
<hr>
<ul>
<li>本文所有示例代码均可在以下 github 上找到：<a href="https://github.com/WhereIsHeroFrom/Code_Templates/blob/master/%E5%9B%BE%E8%AE%BA/%E7%A8%B3%E5%AE%9A%E5%A9%9A%E5%A7%BB%20%E6%A8%A1%E6%9D%BF.cpp">github.com/WhereIsHeroFrom/Code_Templates</a></li>
</ul>
<hr>
<p><img src="https://img-blog.csdnimg.cn/20210105190605774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1doZXJlSXNIZXJvRnJvbQ==,size_16,color_FFFFFF,t_70" alt=""></p>
<hr>
<h1><a id="_246"></a>五、稳定婚姻相关题集整理</h1>

<table>
<thead>
<tr>
<th>题目链接</th>
<th>难度</th>
<th>解析</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1435">HDU 1435 Stable Match</a></td>
<td>★☆☆☆☆</td>
<td>任意解</td>
</tr>
<tr>
<td><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1522">HDU 1522 Marriage is Stable</a></td>
<td>★☆☆☆☆</td>
<td>任意解</td>
</tr>
<tr>
<td><a href="http://acm.hdu.edu.cn/showproblem.php?pid=1914">HDU 1914 The Stable Marriage Problem</a></td>
<td>★☆☆☆☆</td>
<td>字典序输出</td>
</tr>
<tr>
<td><a href="http://poj.org/problem?id=3487">PKU 3487 The Stable Marriage Problem</a></td>
<td>★☆☆☆☆</td>
<td>字典序输出</td>
</tr>
</tbody>
</table></div>
</body>

</html>
